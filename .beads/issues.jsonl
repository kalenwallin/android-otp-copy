{"id":"android-otp-copy-3es","title":"Create a debug.sh script like this one for this project","description":"#!/bin/bash\n# OTPSync Android Debug Script\n# Usage: ./debug.sh [command]\n#\n# Commands:\n#   build     - Build and install debug APK\n#   run       - Build, install, and launch the app\n#   logs      - Show live app logs (filtered to OTPSync)\n#   logcat    - Show full logcat with all logs\n#   wireless  - Set up wireless debugging\n#   devices   - List connected devices\n#   clear     - Clear app data\n#   uninstall - Uninstall the app\n#   crash     - Show crash logs\n\nset -e\n\nAPP_PACKAGE=\"com.kalenwallin.otpsync.dev\"\nSCRIPT_DIR=\"$(cd \"$(dirname \"$0\")\" \u0026\u0026 pwd)\"\n\n# Colors for output\nRED='033[0;31m'\nGREEN='033[0;32m'\nYELLOW='033[1;33m'\nBLUE='033[0;34m'\nNC='033[0m' # No Color\n\nlog_info() { echo -e \"${BLUE}ℹ ${NC}$1\"; }\nlog_success() { echo -e \"${GREEN}✓ ${NC}$1\"; }\nlog_warn() { echo -e \"${YELLOW}⚠ ${NC}$1\"; }\nlog_error() { echo -e \"${RED}✗ ${NC}$1\"; }\n\n# Get the first USB device, or first device if no USB\nget_device() {\n    # Prefer USB device over wireless\n    local usb_device=$(adb devices -l 2\u003e/dev/null | grep -E \"usb:\" | head -1 | awk '{print $1}')\n    if [ -n \"$usb_device\" ]; then\n        echo \"$usb_device\"\n        return\n    fi\n    # Fall back to first available device\n    adb devices 2\u003e/dev/null | grep -E \"device$\" | head -1 | awk '{print $1}'\n}\n\n# Wrapper for adb commands to use specific device\nadb_cmd() {\n    local device=$(get_device)\n    if [ -n \"$device\" ]; then\n        adb -s \"$device\" \"$@\"\n    else\n        adb \"$@\"\n    fi\n}\n\n# Check for connected devices\ncheck_device() {\n    if ! adb devices | grep -q \"device$\"; then\n        log_error \"No Android device connected!\"\n        echo \"\"\n        echo \"To connect via USB:\"\n        echo \"  1. Enable Developer Options on your phone\"\n        echo \"  2. Enable USB Debugging in Developer Options\"\n        echo \"  3. Connect your phone via USB cable\"\n        echo \"\"\n        echo \"To connect wirelessly:\"\n        echo \"  ./debug.sh wireless\"\n        exit 1\n    fi\n    local device=$(get_device)\n    if [ -n \"$device\" ]; then\n        log_info \"Using device: $device\"\n    fi\n}\n\ncase \"${1:-help}\" in\n    build)\n        log_info \"Building debug APK...\"\n        cd \"$SCRIPT_DIR\"\n        ./gradlew assembleDebug\n        log_success \"Build complete!\"\n        \n        check_device\n        log_info \"Installing APK...\"\n        adb_cmd install -r app/build/outputs/apk/debug/app-debug.apk\n        log_success \"Installed successfully!\"\n        ;;\n        \n    run)\n        log_info \"Building debug APK...\"\n        cd \"$SCRIPT_DIR\"\n        ./gradlew assembleDebug\n        log_success \"Build complete!\"\n        \n        check_device\n        log_info \"Installing APK...\"\n        adb_cmd install -r app/build/outputs/apk/debug/app-debug.apk\n        log_success \"Installed!\"\n        \n        log_info \"Launching OTPSync...\"\n        adb_cmd shell am start -n \"$APP_PACKAGE/com.kalenwallin.otpsync.MainActivity\"\n        log_success \"App launched!\"\n        \n        echo \"\"\n        log_info \"Showing logs (Ctrl+C to stop)...\"\n        echo \"─────────────────────────────────────────────\"\n        adb_cmd logcat --pid=$(adb_cmd shell pidof -s $APP_PACKAGE) 2\u003e/dev/null || \n            adb_cmd logcat | grep -E \"(OTPSync|$APP_PACKAGE|AndroidRuntime|System.err)\"\n        ;;\n        \n    logs)\n        check_device\n        log_info \"Showing OTPSync logs (Ctrl+C to stop)...\"\n        echo \"─────────────────────────────────────────────\"\n        # Try to get PID-filtered logs first, fall back to grep\n        PID=$(adb_cmd shell pidof -s $APP_PACKAGE 2\u003e/dev/null)\n        if [ -n \"$PID\" ]; then\n            adb_cmd logcat --pid=$PID\n        else\n            log_warn \"App not running. Showing filtered logcat...\"\n            adb_cmd logcat | grep -E \"(OTPSync|$APP_PACKAGE|AndroidRuntime|System.err)\"\n        fi\n        ;;\n        \n    logcat)\n        check_device\n        log_info \"Showing full logcat (Ctrl+C to stop)...\"\n        adb_cmd logcat\n        ;;\n        \n    crash)\n        check_device\n        log_info \"Showing crash logs...\"\n        adb_cmd logcat -d | grep -A 20 \"FATAL EXCEPTION|AndroidRuntime\" | tail -50\n        ;;\n        \n    wireless)\n        check_device\n        log_info \"Setting up wireless debugging...\"\n        \n        # Get device IP\n        DEVICE_IP=$(adb_cmd shell ip route | awk '/wlan0/ {print $9}' | head -1)\n        if [ -z \"$DEVICE_IP\" ]; then\n            DEVICE_IP=$(adb_cmd shell \"ip addr show wlan0 | grep 'inet ' | cut -d' ' -f6 | cut -d/ -f1\")\n        fi\n        \n        if [ -z \"$DEVICE_IP\" ]; then\n            log_error \"Could not detect device IP. Make sure WiFi is connected.\"\n            exit 1\n        fi\n        \n        log_info \"Device IP: $DEVICE_IP\"\n        \n        # Enable TCP/IP mode on port 5555\n        adb_cmd tcpip 5555\n        sleep 2\n        \n        # Connect wirelessly\n        log_info \"Connecting to $DEVICE_IP:5555...\"\n        adb connect \"$DEVICE_IP:5555\"\n        \n        log_success \"Wireless debugging enabled!\"\n        echo \"\"\n        echo \"You can now unplug the USB cable.\"\n        echo \"To reconnect later: adb connect $DEVICE_IP:5555\"\n        ;;\n        \n    devices)\n        log_info \"Connected devices:\"\n        adb devices -l\n        ;;\n        \n    clear)\n        check_device\n        log_info \"Clearing app data...\"\n        adb_cmd shell pm clear $APP_PACKAGE\n        log_success \"App data cleared!\"\n        ;;\n        \n    uninstall)\n        check_device\n        log_info \"Uninstalling OTPSync...\"\n        adb_cmd uninstall $APP_PACKAGE\n        log_success \"Uninstalled!\"\n        ;;\n        \n    *)\n        echo \"OTPSync Android Debug Script\"\n        echo \"\"\n        echo \"Usage: ./debug.sh [command]\"\n        echo \"\"\n        echo \"Commands:\"\n        echo \"  build     - Build and install debug APK\"\n        echo \"  run       - Build, install, launch, and show logs\"\n        echo \"  logs      - Show live app logs (filtered)\"\n        echo \"  logcat    - Show full system logcat\"\n        echo \"  crash     - Show recent crash logs\"\n        echo \"  wireless  - Set up wireless debugging\"\n        echo \"  devices   - List connected devices\"\n        echo \"  clear     - Clear app data\"\n        echo \"  uninstall - Uninstall the app\"\n        echo \"\"\n        echo \"Examples:\"\n        echo \"  ./debug.sh run       # Full development cycle\"\n        echo \"  ./debug.sh logs      # Just watch logs\"\n        echo \"  ./debug.sh wireless  # Enable wireless debugging\"\n        ;;\nesac\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-01T16:36:44.146034-06:00","updated_at":"2026-02-01T16:38:01.903058-06:00","closed_at":"2026-02-01T16:38:01.903058-06:00","close_reason":"Closed"}
{"id":"android-otp-copy-7h7","title":"Update the README.md to include instructions on how to use debug.sh","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-01T16:46:27.988021-06:00","updated_at":"2026-02-01T16:47:20.475369-06:00","closed_at":"2026-02-01T16:47:20.475369-06:00","close_reason":"Closed"}
{"id":"android-otp-copy-sxr","title":"This message's OTP is not being copied","description":"RENTCafe Resident: 623975 is your one-time password (OTP) which expires in 10 minutes.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-01T17:06:55.075818-06:00","updated_at":"2026-02-01T17:07:06.961746-06:00"}
{"id":"android-otp-copy-vj2","title":"Run `./debug.sh build` and fix the errors","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-01T16:49:32.189303-06:00","updated_at":"2026-02-01T17:06:19.041309-06:00","closed_at":"2026-02-01T17:06:19.041313-06:00"}
